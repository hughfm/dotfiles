# target: ~/.aliases

alias zshconfig="vim ~/.zshrc"
alias ohmyzsh="vim ~/.oh-my-zsh"

alias gbdf='git branch -d $(git branch | FZF)'
alias 'gbdf!'='git branch -D $(git branch | FZF)'
alias grb='git checkout $(git branch --sort=-committerdate | FZF)'
alias gsn='git status -uno'

if command -v nvim > /dev/null; then
  alias nvim='nvim --listen /tmp/nvim'
  alias v=nvim
  alias vi=nvim
  alias vim=nvim
fi

if command -v bat > /dev/null; then
  alias cat='bat'
  alias ag='ag --pager bat'
fi

# Git worktree helper function
new_worktree() {
  local branch_name="$1"
  local worktrees_dir="${2:-../worktrees}"

  if [[ -z "$branch_name" ]]; then
    echo "Usage: new_worktree  [worktrees_directory]"
    return 1
  fi

  # Fetch latest origin/master
  git fetch origin master

  # Create worktree with new branch based on origin/master
  git worktree add "$worktrees_dir/$branch_name" -b "$branch_name" origin/master --no-track
}

# Alias for convenience
alias gwa="new_worktree"
